- defaults:
    link:
      relink: true

- clean: ["~"]

- clean:
    ~/:
      # force: true
    ~/.config:
      recursive: true

# Windows-specific links
- defaults:
    link:
      if: "ver"
      create: true
    shell:
      if: "ver"
- link:
    ~/AppData/Local/lazygit: lazygit
    ~/AppData/Local/nvim: nvim
    ~/Documents/PowerShell/Microsoft.PowerShell_profile.ps1: windows/PowerShell/Microsoft.PowerShell_profile.ps1
    ~/AppData/Roaming/yazi/config/: yazi
- shell:
    - command: 'powershell -ExecutionPolicy Bypass -File "windows/install-scoop-packages.ps1"'
      description: "Installing Windows packages via Scoop"

# Linux-specific links
- defaults:
    link:
      if: '[ "$(uname)" = "Linux" ]'
- link:
    ~/.config/nvim: nvim
    ~/.config/lazygit: lazygit
    ~/.config/waybar: linux/waybar
    ~/.config/hypr: linux/hypr
    ~/.config/swaync: linux/swaync
    ~/.zshrc: linux/.zshrc
    ~/.config/yazi: yazi
    ~/.config/MangoHud: linux/MangoHud
    ~/.config/mimeapps.list: linux/mimeapps.list
    ~/.config/feh/themes: linux/feh/themes
    ~/.config/starship.toml: starship/starship.toml

- shell:
    - [git submodule update --init --recursive, Installing submodules]
